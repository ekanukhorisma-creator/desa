<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Peta Desa Tambaksari Kidul</title>

<link rel="icon" type="image/png" href="assets/logo.png">
<meta name="theme-color" content="#1e63d6">

<style>
html, body {
  height: 100%;
  margin: 0;
  font-family: "Segoe UI", Arial, sans-serif;
}

/* ================= NAVBAR ================= */
.navbar {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(245,245,245,0.95);
  border-radius: 50px;
  padding: 12px 30px;
  display: flex;
  gap: 30px;
  z-index: 3000;
  box-shadow: 0 5px 20px rgba(0,0,0,0.2);
}

.navbar a,
.navbar button {
  font-size: 15px;
  color: #0b2c4d;
  font-weight: 500;
  background: none;
  border: none;
  cursor: pointer;
  text-decoration: none;
}

.navbar button.active {
  color: #ff9800;
}

/* ================= DROPDOWN DESA ================= */
.dropdown-wrapper {
  position: relative;
}

.dropdown {
  position: absolute;
  top: 45px;
  left: 50%;
  transform: translateX(-50%);
  min-width: 260px;
  max-height: 300px;
  background: white;
  border-radius: 14px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
  overflow-y: auto;
  display: none;
  z-index: 4000;
}

.dropdown a {
  display: block;
  padding: 12px 18px;
  font-size: 14px;
  color: #0b2c4d;
}

.dropdown a:hover {
  background: #eaf4ff;
  color: #ff9800;
}

/* Scroll */
.dropdown::-webkit-scrollbar { width: 6px; }
.dropdown::-webkit-scrollbar-thumb {
  background: #b3d1ff;
  border-radius: 10px;
}

/* ================= MAP ================= */
.map-wrapper {
  width: 100%;
  height: 100%;
}

.map-wrapper iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* ================= SEARCH ================= */
.search-box {
  position: absolute;
  top: 120px;
  right: 80px;
  z-index: 3000;
}

.search-box input {
  padding: 10px 15px;
  width: 260px;
  border-radius: 8px;
  border: none;
  box-shadow: 0 3px 10px rgba(0,0,0,0.2);
}

/* ================= TOOLBAR ================= */
.toolbar {
  position: absolute;
  top: 180px;
  right: 20px;
  background: white;
  border-radius: 10px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.2);
  z-index: 3000;
}

.toolbar button {
  width: 45px;
  height: 45px;
  border: none;
  background: none;
  font-size: 18px;
  cursor: pointer;
}

.toolbar button:hover {
  background: #eaf4ff;
}

/* ================= MOBILE ================= */
@media (max-width: 768px) {
  .navbar {
    padding: 10px 20px;
    gap: 18px;
  }
  .search-box {
    right: 20px;
    top: auto;
    bottom: 20px;
  }
}
</style>
</head>

<body>

<!-- ================= NAVBAR ================= -->
<div class="navbar">
  <a href="index.html">Beranda</a>

  <div class="dropdown-wrapper">
    <button id="desaBtn" class="active">Peta Desa Tambaksari Kidul ‚ñæ</button>

    <div class="dropdown" id="desaDrop">
      <a href="desa_Bantarwuni.html">Desa Bantarwuni</a>
      <a href="desa_Karangsoka.html">Desa Karangsoka</a>
      <a href="desa_Kembaran.html">Desa Kembaran</a>
      <a href="desa_Bojongsari.html">Desa Bojongsari</a>
      <a href="desa_Dukuhwaluh.html">Desa Dukuhwaluh</a>
      <a href="desa_Karangsari.html">Desa Karangsari</a>
      <a href="desa_Karangtengah.html">Desa Karangtengah</a>
      <a href="desa_Kramat.html">Desa Kramat</a>
      <a href="desa_Ledug.html">Desa Ledug</a>
      <a href="desa_Linggasari.html">Desa Linggasari</a>
      <a href="desa_Pliken.html">Desa Pliken</a>
      <a href="desa_Purbadana.html">Desa Purbadana</a>
      <a href="desa_Purwodadi.html">Desa Purwodadi</a>
      <a href="desa_SambengKulon.html">Desa Sambeng Kulon</a>
      <a href="desa_SambengWetan.html">Desa Sambeng Wetan</a>
    </div>
  </div>

  <a href="peta_kecamatan.html">Peta Kecamatan</a>
  <a href="tentang.html">Tentang</a>
</div>

<!-- ================= MAP ================= -->
<div class="map-wrapper">

  <iframe id="mapFrame" src="qgis2web_Tambaksari_Kidul/index.html"></iframe>

  <div class="search-box">
    <input id="searchInput" type="text" placeholder="Cari alamat atau koordinat">
  </div>

  <div class="toolbar">
    <button id="btnHome">üè†</button>
    <button id="btnZoomIn">Ôºã</button>
    <button id="btnZoomOut">Ôºç</button>
  </div>
</div>

<script>
const desaBtn = document.getElementById("desaBtn");
const desaDrop = document.getElementById("desaDrop");
const iframe = document.getElementById("mapFrame");

/* Toggle dropdown */
desaBtn.addEventListener("click", e => {
  e.stopPropagation();
  desaDrop.style.display =
    desaDrop.style.display === "block" ? "none" : "block";
});

/* Tutup jika klik luar */
document.addEventListener("click", () => {
  desaDrop.style.display = "none";
});

/* ===== SEARCH ===== */
const searchInput = document.getElementById("searchInput");
searchInput.addEventListener("keydown", e => {
  if (e.key === "Enter" && searchInput.value.trim()) {
    iframe.contentWindow.postMessage({
      type: "search-tambaksarikidul",
      keyword: searchInput.value.trim()
    }, "*");
  }
});

/* ===== TOOLBAR ===== */
document.getElementById("btnHome").onclick =
  () => iframe.contentWindow.postMessage({ type: "map-home" }, "*");

document.getElementById("btnZoomIn").onclick =
  () => iframe.contentWindow.postMessage({ type: "map-zoomin" }, "*");

document.getElementById("btnZoomOut").onclick =
  () => iframe.contentWindow.postMessage({ type: "map-zoomout" }, "*");
</script>

</body>
</html>
